<!DOCTYPE html>
<html lang="en">
<%- include('includes/head.ejs') %>
<body>
    <%- include('includes/header.ejs') %>
    <main>
        <% if (posts.length) { %>
            <h1>Welcome, <%= user.username %>!</h1>
            <h2>Your Blog Posts</h2>
            <ul class="posts-list">
                <% posts.forEach(post => { %>
                    <li>
                        <a href="/post/<%= post.id %>"><%= post.title %></a>
                        <span class="post-date">on <%= new Date(post.createdDate).toLocaleString() %></span>
                    </li>
                <% }) %>
            </ul>
        <% } else { %>
            <h1>Welcome, <%= user.username %>!</h1>
            <p>You don't have any posts yet. <a href="/create-post">Create your first post</a> to get started!</p>
        <% } %>
    </main>

    <%- include('includes/footer.ejs') %>
</body>
</html>